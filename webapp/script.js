"use strict";var caltrainServiceData={saturdayTripIds:[421,480,481,484],northStops:["Gilroy","San Martin","Morgan Hill","Blossom Hill","Capitol","Tamien","San Jose Diridon","College Park","Santa Clara","Lawrence","Sunnyvale","Mountain View","San Antonio","California Ave","Palo Alto","Menlo Park","Redwood City","San Carlos","Belmont","Hillsdale","Hayward Park","San Mateo","Burlingame","Broadway","Millbrae","San Bruno","So San Francisco","Bayshore","22nd Street","San Francisco"],northWeekday:{101:[,,,,,,283,,289,294,297,301,304,307,310,313,318,322,324,327,330,332,335,,339,342,345,350,355,361],103:[,,,,,,308,,314,319,322,326,329,332,335,338,343,347,349,352,355,357,360,,364,367,370,375,380,386],401:[,,,,,,343,,349,354,357,361,364,367,370,373,378,,,385,,388,,,393,,399,,407,413],105:[,,,,,,358,,364,369,372,376,379,382,385,388,393,397,399,402,405,407,410,,414,417,420,425,430,436],503:[,,,,,,382,,,,392,396,,,403,,409,,,416,,419,,,424,,429,,436,442],107:[,,,,,,388,,394,399,402,406,409,412,415,418,423,427,429,432,435,437,440,,444,447,450,455,460,466],805:[352,364,370,383,389,395,400,,,,,,,,,,,,,,,,,,,,,,,],405:[,,,,,,403,,409,414,417,421,424,427,430,433,438,,,445,,448,,,453,,459,,467,473],109:[,,,,,,418,,424,429,432,436,439,442,445,448,453,457,459,462,465,467,470,,474,477,480,485,490,496],807:[391,403,409,422,428,434,439,,,,,,,,,,,,,,,,,,,,,,,],507:[,,,,,,442,,,,452,456,,,463,,469,,,476,,479,,,484,,489,,496,502],111:[,,,,,,448,,454,459,462,466,469,472,475,478,483,487,489,492,495,497,500,,504,507,510,515,520,526],809:[412,424,430,443,449,455,460,,,,,,,,,,,,,,,,,,,,,,,],409:[,,,,,,463,,469,474,477,481,484,487,490,493,498,,,505,,508,,,513,,519,,527,533],113:[,,,,,,473,481,484,489,492,496,499,502,505,508,514,517,519,523,525,527,530,,534,537,540,545,550,556],811:[451,463,469,482,488,494,499,,,,,,,,,,,,,,,,,,,,,,,],511:[,,,,,,502,,,,512,516,,,523,,529,,,536,,539,,,544,,549,,556,562],115:[,,,,,,508,,514,519,522,526,529,532,535,538,543,547,549,552,555,557,560,,564,567,570,575,580,586],413:[,,,,,,523,,529,534,537,541,544,547,550,553,558,,,565,,568,,,573,,579,,587,593],117:[,,,,,,538,,544,549,552,556,559,562,565,568,573,577,579,582,585,587,590,,594,597,600,605,610,616],119:[,,,,,,568,,574,579,582,586,589,592,595,598,603,607,609,612,615,617,620,,624,627,630,635,640,646],121:[,,,,,,598,,604,609,612,616,619,622,625,628,633,637,639,642,645,647,650,,654,657,660,665,670,676],123:[,,,,,,628,,634,639,642,646,649,652,655,658,663,667,669,672,675,677,680,,684,687,690,695,700,706],125:[,,,,,,658,,664,669,672,676,679,682,685,688,693,697,699,702,705,707,710,,714,717,720,725,730,736],127:[,,,,,,688,,694,699,702,706,709,712,715,718,723,727,729,732,735,737,740,,744,747,750,755,760,766],129:[,,,,,,718,,724,729,732,736,739,742,745,748,753,757,759,762,765,767,770,,774,777,780,785,790,796],131:[,,,,,,748,,754,759,762,766,769,772,775,778,783,787,789,792,795,797,800,,804,807,810,815,820,826],133:[,,,,,,778,,784,789,792,796,799,802,805,808,813,817,819,822,825,827,830,,834,837,840,845,850,856],135:[,,,,,,808,,814,819,822,826,829,832,835,838,843,847,849,852,855,857,860,,864,867,870,875,880,886],137:[,,,,,,838,,844,849,852,856,859,862,865,868,873,877,879,882,885,887,890,,894,897,900,905,910,916],139:[,,,,,,868,,874,879,882,886,889,892,895,898,903,907,909,912,915,917,920,,924,927,930,935,940,946],141:[,,,,,,893,901,904,909,912,916,919,922,925,928,934,937,939,943,945,947,950,,954,957,960,965,970,976],515:[,,,,,,922,,,,932,936,,,943,,949,,,956,,959,,,964,,969,,976,982],143:[,,,,,,928,,934,939,942,946,949,952,955,958,963,967,969,972,975,977,980,,984,987,990,995,1000,1006],417:[,,,,,,943,,949,954,957,961,964,967,970,973,978,,,985,,988,,,993,,999,,1007,1013],145:[,,,,,,958,,964,969,972,976,979,982,985,988,993,997,999,1002,1005,1007,1010,,1014,1017,1020,1025,1030,1036],519:[,,,,,,982,,,,992,996,,,1003,,1009,,,1016,,1019,,,1024,,1029,,1036,1042],147:[,,,,,,988,,994,999,1002,1006,1009,1012,1015,1018,1023,1027,1029,1032,1035,1037,1040,,1044,1047,1050,1055,1060,1066],421:[,,,,,,1003,,1009,1014,1017,1021,1024,1027,1030,1033,1038,,,1045,,1048,,,1053,,1059,,1067,1073],149:[,,,,,,1018,,1024,1029,1032,1036,1039,1042,1045,1048,1053,1057,1059,1062,1065,1067,1070,,1074,1077,1080,1085,1090,1096],523:[,,,,,,1042,,,,1052,1056,,,1063,,1069,,,1076,,1079,,,1084,,1089,,1096,1102],151:[,,,,,,1048,,1054,1059,1062,1066,1069,1072,1075,1078,1083,1087,1089,1092,1095,1097,1100,,1104,1107,1110,1115,1120,1126],425:[,,,,,,1063,,1069,1074,1077,1081,1084,1087,1090,1093,1098,,,1105,,1108,,,1113,,1119,,1127,1133],153:[,,,,,,1078,,1084,1089,1092,1096,1099,1102,1105,1108,1113,1117,1119,1122,1125,1127,1130,,1134,1137,1140,1145,1150,1156],527:[,,,,,,1102,,,,1112,1116,,,1123,,1129,,,1136,,1139,,,1144,,1149,,1156,1162],155:[,,,,,,1108,,1114,1119,1122,1126,1129,1132,1135,1138,1143,1147,1149,1152,1155,1157,1160,,1164,1167,1170,1175,1180,1186],429:[,,,,,,1123,,1129,1134,1137,1141,1144,1147,1150,1153,1158,,,1165,,1168,,,1173,,1179,,1187,1193],157:[,,,,,,1138,,1144,1149,1152,1156,1159,1162,1165,1168,1173,1177,1179,1182,1185,1187,1190,,1194,1197,1200,1205,1210,1216],159:[,,,,,,1168,,1174,1179,1182,1186,1189,1192,1195,1198,1203,1207,1209,1212,1215,1217,1220,,1224,1227,1230,1235,1240,1246],161:[,,,,,,1198,,1204,1209,1212,1216,1219,1222,1225,1228,1233,1237,1239,1242,1245,1247,1250,,1254,1257,1260,1265,1270,1276],163:[,,,,,,1228,,1234,1239,1242,1246,1249,1252,1255,1258,1263,1267,1269,1272,1275,1277,1280,,1284,1287,1290,1295,1300,1306],165:[,,,,,,1258,,1264,1269,1272,1276,1279,1282,1285,1288,1293,1297,1299,1302,1305,1307,1310,,1314,1317,1320,1325,1330,1336],167:[,,,,,,1288,,1294,1299,1302,1306,1309,1312,1315,1318,1323,1327,1329,1332,1335,1337,1340,,1344,1347,1350,1355,1360,1366],169:[,,,,,,1318,,1324,1329,1332,1336,1339,1342,1345,1348,1353,1357,1359,1362,1365,1367,1370,,1374,1377,1380,1385,1390,1396],171:[,,,,,,1350,,1356,1361,1364,1368,1371,1374,1377,1380,1385,1389,1391,1394,1397,1399,1402,,1406,1409,1412,1417,1422,1428],173:[,,,,,,1410,,1416,1421,1424,1428,1431,1434,1437,1440,1445,1449,1451,1454,1457,1459,1462,,1466,1469,1472,1477,1482,1488]},northWeekend:{601:[,,,,,,416,,422,427,431,435,438,441,444,446,452,455,458,461,463,466,468,471,474,477,480,485,490,496],603:[,,,,,,446,,452,457,461,465,468,471,474,476,482,485,488,491,493,496,498,501,504,507,510,515,520,526],605:[,,,,,,476,,482,487,491,495,498,501,504,506,512,515,518,521,523,526,528,531,534,537,540,545,550,556],607:[,,,,,,506,,512,517,521,525,528,531,534,536,542,545,548,551,553,556,558,561,564,567,570,575,580,586],609:[,,,,,,536,,542,547,551,555,558,561,564,566,572,575,578,581,583,586,588,591,594,597,600,605,610,616],611:[,,,,,,566,,572,577,581,585,588,591,594,596,602,605,608,611,613,616,618,621,624,627,630,635,640,646],613:[,,,,,,596,,602,607,611,615,618,621,624,626,632,635,638,641,643,646,648,651,654,657,660,665,670,676],615:[,,,,,,626,,632,637,641,645,648,651,654,656,662,665,668,671,673,676,678,681,684,687,690,695,700,706],617:[,,,,,,656,,662,667,671,675,678,681,684,686,692,695,698,701,703,706,708,711,714,717,720,725,730,736],619:[,,,,,,686,,692,697,701,705,708,711,714,716,722,725,728,731,733,736,738,741,744,747,750,755,760,766],621:[,,,,,,716,,722,727,731,735,738,741,744,746,752,755,758,761,763,766,768,771,774,777,780,785,790,796],623:[,,,,,,746,,752,757,761,765,768,771,774,776,782,785,788,791,793,796,798,801,804,807,810,815,820,826],625:[,,,,,,776,,782,787,791,795,798,801,804,806,812,815,818,821,823,826,828,831,834,837,840,845,850,856],627:[,,,,,,806,,812,817,821,825,828,831,834,836,842,845,848,851,853,856,858,861,864,867,870,875,880,886],629:[,,,,,,836,,842,847,851,855,858,861,864,866,872,875,878,881,883,886,888,891,894,897,900,905,910,916],631:[,,,,,,866,,872,877,881,885,888,891,894,896,902,905,908,911,913,916,918,921,924,927,930,935,940,946],633:[,,,,,,896,,902,907,911,915,918,921,924,926,932,935,938,941,943,946,948,951,954,957,960,965,970,976],635:[,,,,,,926,,932,937,941,945,948,951,954,956,962,965,968,971,973,976,978,981,984,987,990,995,1000,1006],637:[,,,,,,956,,962,967,971,975,978,981,984,986,992,995,998,1001,1003,1006,1008,1011,1014,1017,1020,1025,1030,1036],639:[,,,,,,986,,992,997,1001,1005,1008,1011,1014,1016,1022,1025,1028,1031,1033,1036,1038,1041,1044,1047,1050,1055,1060,1066],641:[,,,,,,1016,,1022,1027,1031,1035,1038,1041,1044,1046,1052,1055,1058,1061,1063,1066,1068,1071,1074,1077,1080,1085,1090,1096],643:[,,,,,,1046,,1052,1057,1061,1065,1068,1071,1074,1076,1082,1085,1088,1091,1093,1096,1098,1101,1104,1107,1110,1115,1120,1126],645:[,,,,,,1076,,1082,1087,1091,1095,1098,1101,1104,1106,1112,1115,1118,1121,1123,1126,1128,1131,1134,1137,1140,1145,1150,1156],647:[,,,,,,1106,,1112,1117,1121,1125,1128,1131,1134,1136,1142,1145,1148,1151,1153,1156,1158,1161,1164,1167,1170,1175,1180,1186],649:[,,,,,,1136,,1142,1147,1151,1155,1158,1161,1164,1166,1172,1175,1178,1181,1183,1186,1188,1191,1194,1197,1200,1205,1210,1216],651:[,,,,,,1166,,1172,1177,1181,1185,1188,1191,1194,1196,1202,1205,1208,1211,1213,1216,1218,1221,1224,1227,1230,1235,1240,1246],653:[,,,,,,1196,,1202,1207,1211,1215,1218,1221,1224,1226,1232,1235,1238,1241,1243,1246,1248,1251,1254,1257,1260,1265,1270,1276],655:[,,,,,,1226,,1232,1237,1241,1245,1248,1251,1254,1256,1262,1265,1268,1271,1273,1276,1278,1281,1284,1287,1290,1295,1300,1306],657:[,,,,,,1256,,1262,1267,1271,1275,1278,1281,1284,1286,1292,1295,1298,1301,1303,1306,1308,1311,1314,1317,1320,1325,1330,1336],659:[,,,,,,1286,,1292,1297,1301,1305,1308,1311,1314,1316,1322,1325,1328,1331,1333,1336,1338,1341,1344,1347,1350,1355,1360,1366],661:[,,,,,,1316,,1322,1327,1331,1335,1338,1341,1344,1346,1352,1355,1358,1361,1363,1366,1368,1371,1374,1377,1380,1385,1390,1396],663:[,,,,,,1350,,1356,1361,1365,1369,1372,1375,1378,1380,1386,1389,1392,1395,1397,1400,1402,1405,1408,1411,1414,1419,1424,1430],665:[,,,,,,1410,,1416,1421,1425,1429,1432,1435,1438,1440,1446,1449,1452,1455,1457,1460,1462,1465,1468,1471,1474,1479,1484,1490]},northModified:{101:[361,373,379,392,398,,283,,289,294,297,301,304,307,310,313,318,322,324,327,330,332,335,,339,342,345,350,355,361],103:[451,463,469,482,488,,308,,314,319,322,326,329,332,335,338,343,347,349,352,355,357,360,,364,367,370,375,380,386],105:[,,,,,,358,,364,369,372,376,379,382,385,388,393,397,399,402,405,407,410,,414,417,420,425,430,436],107:[,,,,,,388,,394,399,402,406,409,412,415,418,423,427,429,432,435,437,440,,444,447,450,455,460,466],819:[,,,,,,409,,424,429,432,436,439,442,445,448,453,457,459,462,465,467,470,,474,477,480,485,490,496],109:[,,,,,,418,,454,459,462,466,469,472,475,478,483,487,489,492,495,497,500,,504,507,510,515,520,526],111:[,,,,,,448,481,484,489,492,496,499,502,505,508,514,517,519,523,525,527,530,,534,537,540,545,550,556],113:[,,,,,,473,,514,519,522,526,529,532,535,538,543,547,549,552,555,557,560,,564,567,570,575,580,586],825:[,,,,,,499,,544,549,552,556,559,562,565,568,573,577,579,582,585,587,590,,594,597,600,605,610,616],115:[,,,,,,508,,574,579,582,586,589,592,595,598,603,607,609,612,615,617,620,,624,627,630,635,640,646],117:[,,,,,,538,,604,609,612,616,619,622,625,628,633,637,639,642,645,647,650,,654,657,660,665,670,676],119:[,,,,,,568,,634,639,642,646,649,652,655,658,663,667,669,672,675,677,680,,684,687,690,695,700,706],121:[,,,,,,598,,664,669,672,676,679,682,685,688,693,697,699,702,705,707,710,,714,717,1440,1445,1450,1456],123:[,,,,,,628,,694,699,702,706,709,712,715,718,1443,1447,1449,1452,1455,1457,1460,,1464,1467,1470,1475,1480,1486],125:[,,,,,,658,,1444,1449,1452,1456,1459,1462,1465,1468,1473,1477,1479,1482,1485,1487,1490,,1494,1497,780,785,790,796],127:[,,,,,,688,,1474,1479,1482,1486,1489,1492,1495,1498,783,787,789,792,795,797,800,,804,807,810,815,820,826],129:[,,,,,,718,,784,789,792,796,799,802,805,808,813,817,819,822,825,827,830,,834,837,840,845,850,856],131:[,,,,,,1468,,814,819,822,826,829,832,835,838,843,847,849,852,855,857,860,,864,867,870,875,880,886],133:[,,,,,,1498,,844,849,852,856,859,862,865,868,873,877,879,882,885,887,890,,894,897,900,905,910,916],135:[,,,,,,808,,874,879,882,886,889,892,895,898,903,907,909,912,915,917,920,,924,927,930,935,940,946],137:[,,,,,,838,901,904,909,912,916,919,922,925,928,934,937,939,943,945,947,950,,954,957,960,965,970,976],139:[,,,,,,868,,934,939,942,946,949,952,955,958,963,967,969,972,975,977,980,,984,987,990,995,1000,1006],141:[,,,,,,893,,964,969,972,976,979,982,985,988,993,997,999,1002,1005,1007,1010,,1014,1017,1020,1025,1030,1036],143:[,,,,,,928,,994,999,1002,1006,1009,1012,1015,1018,1023,1027,1029,1032,1035,1037,1040,,1044,1047,1050,1055,1060,1066],145:[,,,,,,958,,1024,1029,1032,1036,1039,1042,1045,1048,1053,1057,1059,1062,1065,1067,1070,,1074,1077,1080,1085,1090,1096],147:[,,,,,,988,,1054,1059,1062,1066,1069,1072,1075,1078,1083,1087,1089,1092,1095,1097,1100,,1104,1107,1110,1115,1120,1126],149:[,,,,,,1018,,1084,1089,1092,1096,1099,1102,1105,1108,1113,1117,1119,1122,1125,1127,1130,,1134,1137,1140,1145,1150,1156],151:[,,,,,,1048,,1114,1119,1122,1126,1129,1132,1135,1138,1143,1147,1149,1152,1155,1157,1160,,1164,1167,1170,1175,1180,1186],153:[,,,,,,1078,,1144,1149,1152,1156,1159,1162,1165,1168,1173,1177,1179,1182,1185,1187,1190,,1194,1197,1200,1205,1210,1216],155:[,,,,,,1108,,1174,1179,1182,1186,1189,1192,1195,1198,1203,1207,1209,1212,1215,1217,1220,,1224,1227,1230,1235,1240,1246],157:[,,,,,,1138,,1204,1209,1212,1216,1219,1222,1225,1228,1233,1237,1239,1242,1245,1247,1250,,1254,1257,1260,1265,1270,1276],159:[,,,,,,1168,,1234,1239,1242,1246,1249,1252,1255,1258,1263,1267,1269,1272,1275,1277,1280,,1284,1287,1290,1295,1300,1306],161:[,,,,,,1198,,1264,1269,1272,1276,1279,1282,1285,1288,1293,1297,1299,1302,1305,1307,1310,,1314,1317,1320,1325,1330,1336],163:[,,,,,,1228,,1294,1299,1302,1306,1309,1312,1315,1318,1323,1327,1329,1332,1335,1337,1340,,1344,1347,1350,1355,1360,1366],165:[,,,,,,1258,,1324,1329,1332,1336,1339,1342,1345,1348,1353,1357,1359,1362,1365,1367,1370,,1374,1377,1380,1385,1390,1396],167:[,,,,,,1288,,1356,1361,1364,1368,1371,1374,1377,1380,1385,1389,1391,1394,1397,1399,1402,,1406,1409,1412,1417,1422,1428],169:[,,,,,,1318,,1416,1421,1424,1428,1431,1434,1437,720,725,729,731,734,737,739,742,,746,749,752,757,762,768],171:[,,,,,,1350,,,,,,,,,,,,,,,,,,,,,,,],173:[,,,,,,1410,,,,,,,,,,,,,,,,,,,,,,,]},southStops:["San Francisco","22nd Street","Bayshore","So San Francisco","San Bruno","Millbrae","Broadway","Burlingame","San Mateo","Hayward Park","Hillsdale","Belmont","San Carlos","Redwood City","Menlo Park","Palo Alto","California Ave","San Antonio","Mountain View","Sunnyvale","Lawrence","Santa Clara","College Park","San Jose Diridon","Tamien","Capitol","Blossom Hill","Morgan Hill","San Martin","Gilroy"],southWeekday:{102:[295,300,304,310,313,316,,320,323,325,327,331,333,337,341,344,347,351,354,358,361,366,,372,,,,,,],104:[330,335,339,346,349,352,,356,359,362,365,369,372,376,380,384,387,391,394,398,401,406,,412,,,,,,],502:[380,384,,392,,398,,,403,,406,,,413,,419,,,426,429,,,,440,,,,,,],106:[385,390,394,400,403,406,,410,413,415,417,421,423,427,431,434,437,441,444,448,451,456,,462,,,,,,],404:[408,413,,421,,427,,,432,,435,,,442,446,449,452,456,459,463,466,471,,478,,,,,,],108:[415,420,424,430,433,436,,440,443,445,447,451,453,457,461,464,467,471,474,478,481,486,488,494,,,,,,],506:[440,444,,452,,458,,,463,,466,,,473,,479,,,486,489,,,,500,,,,,,],110:[445,450,454,460,463,466,,470,473,475,477,481,483,487,491,494,497,501,504,508,511,516,,522,,,,,,],408:[468,473,,481,,487,,,492,,495,,,502,506,509,512,516,519,523,526,531,,538,,,,,,],112:[475,480,484,490,493,496,,500,503,505,507,511,513,517,521,524,527,531,534,538,541,546,,553,,,,,,],510:[500,504,,512,,518,,,523,,526,,,533,,539,,,546,549,,,,560,,,,,,],114:[505,510,514,520,523,526,,530,533,535,537,541,543,547,551,554,557,561,564,568,571,576,,582,,,,,,],412:[528,533,,541,,547,,,552,,555,,,562,566,569,572,576,579,583,586,591,,598,,,,,,],116:[535,540,544,550,553,556,,560,563,565,567,571,573,577,581,584,587,591,594,598,601,606,,613,,,,,,],118:[565,570,574,580,583,586,,590,593,595,597,601,603,607,611,614,617,621,624,628,631,636,,642,,,,,,],120:[595,600,604,610,613,616,,620,623,625,627,631,633,637,641,644,647,651,654,658,661,666,,673,,,,,,],122:[625,630,634,640,643,646,,650,653,655,657,661,663,667,671,674,677,681,684,688,691,696,,702,,,,,,],124:[655,660,664,670,673,676,,680,683,685,687,691,693,697,701,704,707,711,714,718,721,726,,733,,,,,,],126:[685,690,694,700,703,706,,710,713,715,717,721,723,727,731,734,737,741,744,748,751,756,,762,,,,,,],128:[715,720,724,730,733,736,,740,743,745,747,751,753,757,761,764,767,771,774,778,781,786,,793,,,,,,],130:[745,750,754,760,763,766,,770,773,775,777,781,783,787,791,794,797,801,804,808,811,816,,822,,,,,,],132:[775,780,784,790,793,796,,800,803,805,807,811,813,817,821,824,827,831,834,838,841,846,,853,,,,,,],134:[805,810,814,820,823,826,,830,833,835,837,841,843,847,851,854,857,861,864,868,871,876,,882,,,,,,],136:[835,840,844,850,853,856,,860,863,865,867,871,873,877,881,884,887,891,894,898,901,906,,913,,,,,,],138:[865,870,874,880,883,886,,890,893,895,897,901,903,907,911,914,917,921,924,928,931,936,,942,,,,,,],140:[895,900,904,910,913,916,,920,923,925,927,931,933,937,941,944,947,951,954,958,961,966,968,974,,,,,,],514:[920,924,,932,,938,,,943,,946,,,953,,959,,,966,969,,,,980,,,,,,],814:[,,,,,,,,,,,,,,,,,,,,,,,983,988,994,1000,1013,1020,1031],142:[925,930,934,940,943,946,,950,953,955,957,961,963,967,971,974,977,981,984,988,991,996,,1002,,,,,,],416:[948,953,,961,,967,,,972,,975,,,982,986,989,992,996,999,1003,1006,1011,,1018,,,,,,],816:[,,,,,,,,,,,,,,,,,,,,,,,1021,1026,1032,1038,1051,1058,1069],144:[955,960,964,970,973,976,,980,983,985,987,991,993,997,1001,1004,1007,1011,1014,1018,1021,1026,,1033,,,,,,],518:[980,984,,992,,998,,,1003,,1006,,,1013,,1019,,,1026,1029,,,,1040,,,,,,],146:[985,990,994,1000,1003,1006,,1010,1013,1015,1017,1021,1023,1027,1031,1034,1037,1041,1044,1048,1051,1056,,1062,,,,,,],420:[1008,1013,,1021,,1027,,,1032,,1035,,,1042,1046,1049,1052,1056,1059,1063,1066,1071,,1078,,,,,,],820:[,,,,,,,,,,,,,,,,,,,,,,,1081,1086,1092,1098,1111,1118,1129],148:[1015,1020,1024,1030,1033,1036,,1040,1043,1045,1047,1051,1053,1057,1061,1064,1067,1071,1074,1078,1081,1086,,1093,,,,,,],522:[1040,1044,,1052,,1058,,,1063,,1066,,,1073,,1079,,,1086,1089,,,,1100,,,,,,],822:[,,,,,,,,,,,,,,,,,,,,,,,1103,1108,1114,1120,1133,1140,1151],150:[1045,1050,1054,1060,1063,1066,,1070,1073,1075,1077,1081,1083,1087,1091,1094,1097,1101,1104,1108,1111,1116,,1122,,,,,,],424:[1068,1073,,1081,,1087,,,1092,,1095,,,1102,1106,1109,1112,1116,1119,1123,1126,1131,,1138,,,,,,],152:[1075,1080,1084,1090,1093,1096,,1100,1103,1105,1107,1111,1113,1117,1121,1124,1127,1131,1134,1138,1141,1146,,1153,,,,,,],526:[1100,1104,,1112,,1118,,,1123,,1126,,,1133,,1139,,,1146,1149,,,,1160,,,,,,],154:[1105,1110,1114,1120,1123,1126,,1130,1133,1135,1137,1141,1143,1147,1151,1154,1157,1161,1164,1168,1171,1176,,1182,,,,,,],428:[1128,1133,,1141,,1147,,,1152,,1155,,,1162,1166,1169,1172,1176,1179,1183,1186,1191,,1198,,,,,,],156:[1135,1140,1144,1150,1153,1156,,1160,1163,1165,1167,1171,1173,1177,1181,1184,1187,1191,1194,1198,1201,1206,,1213,,,,,,],158:[1165,1170,1174,1180,1183,1186,,1190,1193,1195,1197,1201,1203,1207,1211,1214,1217,1221,1224,1228,1231,1236,,1242,,,,,,],160:[1195,1200,1204,1210,1213,1216,,1220,1223,1225,1227,1231,1233,1237,1241,1244,1247,1251,1254,1258,1261,1266,,1273,,,,,,],162:[1225,1230,1234,1240,1243,1246,,1250,1253,1255,1257,1261,1263,1267,1271,1274,1277,1281,1284,1288,1291,1296,,1302,,,,,,],164:[1255,1260,1264,1270,1273,1276,,1280,1283,1285,1287,1291,1293,1297,1301,1304,1307,1311,1314,1318,1321,1326,,1333,,,,,,],166:[1285,1290,1294,1300,1303,1306,,1310,1313,1315,1317,1321,1323,1327,1331,1334,1337,1341,1344,1348,1351,1356,,1362,,,,,,],168:[1315,1320,1324,1330,1333,1336,,1340,1343,1345,1347,1351,1353,1357,1361,1364,1367,1371,1374,1378,1381,1386,,1393,,,,,,],170:[1345,1350,1354,1360,1363,1366,,1370,1373,1375,1377,1381,1383,1387,1391,1394,1397,1401,1404,1408,1411,1416,,1422,,,,,,],172:[1375,1380,1384,1390,1393,1396,,1400,1403,1405,1407,1411,1413,1417,1421,1424,1427,1431,1434,1438,1441,1446,,1453,,,,,,],174:[1405,1410,1414,1420,1423,1426,,1430,1433,1435,1437,1441,1443,1447,1451,1454,1457,1461,1464,1468,1471,1476,,1482,,,,,,],176:[1445,1450,1454,1460,1463,1466,,1470,1473,1475,1477,1481,1483,1487,1491,1494,1497,1501,1504,1508,1511,1516,,1523,,,,,,]},southWeekend:{602:[475,480,484,490,493,496,499,501,504,506,509,512,514,518,522,526,529,532,535,539,543,547,,555,,,,,,],604:[505,510,514,520,523,526,529,531,534,536,539,542,544,548,552,556,559,562,565,569,573,577,,584,,,,,,],606:[535,540,544,550,553,556,559,561,564,566,569,572,574,578,582,586,589,592,595,599,603,607,,615,,,,,,],608:[565,570,574,580,583,586,589,591,594,596,599,602,604,608,612,616,619,622,625,629,633,637,,644,,,,,,],610:[595,600,604,610,613,616,619,621,624,626,629,632,634,638,642,646,649,652,655,659,663,667,,675,,,,,,],612:[625,630,634,640,643,646,649,651,654,656,659,662,664,668,672,676,679,682,685,689,693,697,,704,,,,,,],614:[655,660,664,670,673,676,679,681,684,686,689,692,694,698,702,706,709,712,715,719,723,727,,735,,,,,,],616:[685,690,694,700,703,706,709,711,714,716,719,722,724,728,732,736,739,742,745,749,753,757,,764,,,,,,],618:[715,720,724,730,733,736,739,741,744,746,749,752,754,758,762,766,769,772,775,779,783,787,,795,,,,,,],620:[745,750,754,760,763,766,769,771,774,776,779,782,784,788,792,796,799,802,805,809,813,817,,824,,,,,,],622:[775,780,784,790,793,796,799,801,804,806,809,812,814,818,822,826,829,832,835,839,843,847,,855,,,,,,],624:[805,810,814,820,823,826,829,831,834,836,839,842,844,848,852,856,859,862,865,869,873,877,,884,,,,,,],626:[835,840,844,850,853,856,859,861,864,866,869,872,874,878,882,886,889,892,895,899,903,907,,915,,,,,,],628:[865,870,874,880,883,886,889,891,894,896,899,902,904,908,912,916,919,922,925,929,933,937,,944,,,,,,],630:[895,900,904,910,913,916,919,921,924,926,929,932,934,938,942,946,949,952,955,959,963,967,,975,,,,,,],632:[925,930,934,940,943,946,949,951,954,956,959,962,964,968,972,976,979,982,985,989,993,997,,1004,,,,,,],634:[955,960,964,970,973,976,979,981,984,986,989,992,994,998,1002,1006,1009,1012,1015,1019,1023,1027,,1035,,,,,,],636:[985,990,994,1000,1003,1006,1009,1011,1014,1016,1019,1022,1024,1028,1032,1036,1039,1042,1045,1049,1053,1057,,1064,,,,,,],638:[1015,1020,1024,1030,1033,1036,1039,1041,1044,1046,1049,1052,1054,1058,1062,1066,1069,1072,1075,1079,1083,1087,,1095,,,,,,],640:[1045,1050,1054,1060,1063,1066,1069,1071,1074,1076,1079,1082,1084,1088,1092,1096,1099,1102,1105,1109,1113,1117,,1124,,,,,,],642:[1075,1080,1084,1090,1093,1096,1099,1101,1104,1106,1109,1112,1114,1118,1122,1126,1129,1132,1135,1139,1143,1147,,1155,,,,,,],644:[1105,1110,1114,1120,1123,1126,1129,1131,1134,1136,1139,1142,1144,1148,1152,1156,1159,1162,1165,1169,1173,1177,,1184,,,,,,],646:[1135,1140,1144,1150,1153,1156,1159,1161,1164,1166,1169,1172,1174,1178,1182,1186,1189,1192,1195,1199,1203,1207,,1215,,,,,,],648:[1165,1170,1174,1180,1183,1186,1189,1191,1194,1196,1199,1202,1204,1208,1212,1216,1219,1222,1225,1229,1233,1237,,1244,,,,,,],650:[1195,1200,1204,1210,1213,1216,1219,1221,1224,1226,1229,1232,1234,1238,1242,1246,1249,1252,1255,1259,1263,1267,,1275,,,,,,],652:[1225,1230,1234,1240,1243,1246,1249,1251,1254,1256,1259,1262,1264,1268,1272,1276,1279,1282,1285,1289,1293,1297,,1304,,,,,,],654:[1255,1260,1264,1270,1273,1276,1279,1281,1284,1286,1289,1292,1294,1298,1302,1306,1309,1312,1315,1319,1323,1327,,1335,,,,,,],656:[1285,1290,1294,1300,1303,1306,1309,1311,1314,1316,1319,1322,1324,1328,1332,1336,1339,1342,1345,1349,1353,1357,,1364,,,,,,],658:[1315,1320,1324,1330,1333,1336,1339,1341,1344,1346,1349,1352,1354,1358,1362,1366,1369,1372,1375,1379,1383,1387,,1395,,,,,,],660:[1345,1350,1354,1360,1363,1366,1369,1371,1374,1376,1379,1382,1384,1388,1392,1396,1399,1402,1405,1409,1413,1417,,1424,,,,,,],662:[1375,1380,1384,1390,1393,1396,1399,1401,1404,1406,1409,1412,1414,1418,1422,1426,1429,1432,1435,1439,1443,1447,,1455,,,,,,],664:[1405,1410,1414,1420,1423,1426,1429,1431,1434,1436,1439,1442,1444,1448,1452,1456,1459,1462,1465,1469,1473,1477,,1484,,,,,,],668:[1445,1450,1454,1460,1463,1466,1469,1471,1474,1476,1479,1482,1484,1488,1492,1496,1499,1502,1505,1509,1513,1517,,1525,,,,,,]},southModified:{102:[295,300,304,310,313,316,,320,323,325,327,331,333,337,341,344,347,351,354,358,361,366,,372,988,994,1000,1013,1020,1031],104:[330,335,339,346,349,352,,356,359,362,365,369,372,376,380,384,387,391,394,398,401,406,,412,1108,1114,1120,1133,1140,1151],106:[385,390,394,400,403,406,,410,413,415,417,421,423,427,431,434,437,441,444,448,451,456,,462,,,,,,],108:[415,420,424,430,433,436,,440,443,445,447,451,453,457,461,464,467,471,474,478,481,486,488,494,,,,,,],110:[445,450,454,460,463,466,,470,473,475,477,481,483,487,491,494,497,501,504,508,511,516,,522,,,,,,],112:[475,480,484,490,493,496,,500,503,505,507,511,513,517,521,524,527,531,534,538,541,546,,553,,,,,,],114:[505,510,514,520,523,526,,530,533,535,537,541,543,547,551,554,557,561,564,568,571,576,,582,,,,,,],116:[535,540,544,550,553,556,,560,563,565,567,571,573,577,581,584,587,591,594,598,601,606,,613,,,,,,],118:[565,570,574,580,583,586,,590,593,595,597,601,603,607,611,614,617,621,624,628,631,636,,642,,,,,,],120:[595,600,604,610,613,616,,620,623,625,627,631,633,637,641,644,647,651,654,658,661,666,,673,,,,,,],122:[625,630,634,640,643,646,,650,653,655,657,661,663,667,671,674,677,681,684,688,691,696,,702,,,,,,],124:[655,660,664,670,673,676,,680,683,685,687,691,693,697,701,704,707,711,714,718,1441,1446,,1453,,,,,,],126:[685,690,694,700,703,706,,710,713,715,717,1441,1443,1447,1451,1454,1457,1461,1464,1468,1471,1476,,1482,,,,,,],128:[715,1440,1444,1450,1453,1456,,1460,1463,1465,1467,1471,1473,1477,1481,1484,1487,1491,1494,1498,781,786,,793,,,,,,],130:[1465,1470,1474,1480,1483,1486,,1490,1493,1495,1497,781,783,787,791,794,797,801,804,808,811,816,,822,,,,,,],132:[1495,780,784,790,793,796,,800,803,805,807,811,813,817,821,824,827,831,834,838,841,846,,853,,,,,,],134:[805,810,814,820,823,826,,830,833,835,837,841,843,847,851,854,857,861,864,868,871,876,,882,,,,,,],136:[835,840,844,850,853,856,,860,863,865,867,871,873,877,881,884,887,891,894,898,901,906,,913,,,,,,],138:[865,870,874,880,883,886,,890,893,895,897,901,903,907,911,914,917,921,924,928,931,936,,942,,,,,,],140:[895,900,904,910,913,916,,920,923,925,927,931,933,937,941,944,947,951,954,958,961,966,968,974,,,,,,],840:[925,930,934,940,943,946,,950,953,955,957,961,963,967,971,974,977,981,984,988,991,996,,983,,,,,,],142:[955,960,964,970,973,976,,980,983,985,987,991,993,997,1001,1004,1007,1011,1014,1018,1021,1026,,1002,,,,,,],144:[985,990,994,1000,1003,1006,,1010,1013,1015,1017,1021,1023,1027,1031,1034,1037,1041,1044,1048,1051,1056,,1033,,,,,,],146:[1015,1020,1024,1030,1033,1036,,1040,1043,1045,1047,1051,1053,1057,1061,1064,1067,1071,1074,1078,1081,1086,,1062,,,,,,],148:[1045,1050,1054,1060,1063,1066,,1070,1073,1075,1077,1081,1083,1087,1091,1094,1097,1101,1104,1108,1111,1116,,1093,,,,,,],848:[1075,1080,1084,1090,1093,1096,,1100,1103,1105,1107,1111,1113,1117,1121,1124,1127,1131,1134,1138,1141,1146,,1103,,,,,,],150:[1105,1110,1114,1120,1123,1126,,1130,1133,1135,1137,1141,1143,1147,1151,1154,1157,1161,1164,1168,1171,1176,,1122,,,,,,],152:[1135,1140,1144,1150,1153,1156,,1160,1163,1165,1167,1171,1173,1177,1181,1184,1187,1191,1194,1198,1201,1206,,1153,,,,,,],154:[1165,1170,1174,1180,1183,1186,,1190,1193,1195,1197,1201,1203,1207,1211,1214,1217,1221,1224,1228,1231,1236,,1182,,,,,,],156:[1195,1200,1204,1210,1213,1216,,1220,1223,1225,1227,1231,1233,1237,1241,1244,1247,1251,1254,1258,1261,1266,,1213,,,,,,],158:[1225,1230,1234,1240,1243,1246,,1250,1253,1255,1257,1261,1263,1267,1271,1274,1277,1281,1284,1288,1291,1296,,1242,,,,,,],160:[1255,1260,1264,1270,1273,1276,,1280,1283,1285,1287,1291,1293,1297,1301,1304,1307,1311,1314,1318,1321,1326,,1273,,,,,,],162:[1285,1290,1294,1300,1303,1306,,1310,1313,1315,1317,1321,1323,1327,1331,1334,1337,1341,1344,1348,1351,1356,,1302,,,,,,],164:[1315,1320,1324,1330,1333,1336,,1340,1343,1345,1347,1351,1353,1357,1361,1364,1367,1371,1374,1378,1381,1386,,1333,,,,,,],166:[1345,1350,1354,1360,1363,1366,,1370,1373,1375,1377,1381,1383,1387,1391,1394,1397,1401,1404,1408,1411,1416,,1362,,,,,,],168:[1375,1380,1384,1390,1393,1396,,1400,1403,1405,1407,1411,1413,1417,1421,1424,1427,1431,1434,1438,721,726,,1393,,,,,,],170:[1405,1410,1414,1420,1423,1426,,1430,1433,1435,1437,721,723,727,731,734,737,741,744,748,751,756,,1422,,,,,,],172:[725,730,734,740,743,746,,750,753,755,757,761,763,767,771,774,777,61,64,68,71,76,,733,,,,,,],174:[,,,,,,,,,,,,,,,,,,,,,,,762,,,,,,],176:[,,,,,,,,,,,,,,,,,,,,,,,83,,,,,,]},scheduleDate:1762307156000};
"use strict";function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==typeof i?i:i+""}function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var special={"2025-11-28":2,"2025-12-24":2};var scheduleOptions=["Weekday","Weekend","Modified"];var CaltrainSchedule=function(){function CaltrainSchedule(goodTime){_classCallCheck(this,CaltrainSchedule);this.forToday=CaltrainSchedule.optionIndex(goodTime);this.selected=this.forToday}_createClass(CaltrainSchedule,[{key:"label",value:function label(){return scheduleOptions[this.selected]}},{key:"next",value:function next(){this.selected=this.selected>=scheduleOptions.length-1?0:this.selected+1}},{key:"swapped",value:function swapped(){return this.forToday!==this.selected}}],[{key:"optionIndex",value:function optionIndex(goodTime){if(goodTime.date in special){return special[goodTime.date]}else if(goodTime.dotw===6||goodTime.dotw===0){return 1}else{return 0}}}]);return CaltrainSchedule}();
"use strict";function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++){n[e]=r[e]}return n}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==typeof i?i:i+""}function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var CaltrainService=function(){function CaltrainService(){_classCallCheck(this,CaltrainService);this.northStops=CaltrainService.mapStops("North");this.southStops=CaltrainService.mapStops("South")}_createClass(CaltrainService,[{key:"stopMap",value:function stopMap(direction){return direction==="North"?this.northStops:this.southStops}},{key:"routes",value:function routes(departStop,arriveStop,schedule){var direction=CaltrainService.direction(departStop,arriveStop);var departTimes=this.times(departStop,direction,schedule);var arriveTimes=this.times(arriveStop,direction,schedule);var skip=[];return CaltrainService.merge(departTimes,arriveTimes,skip)}},{key:"times",value:function times(stop,direction,schedule){var source=CaltrainService.select(direction,schedule);var index=this.stopMap(direction).get(stop);var times=new Map;var _iterator=_createForOfIteratorHelper(Object.keys(source).map(Number)),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var train=_step.value;if(source[train][index])times.set(train,source[train][index])}}catch(err){_iterator.e(err)}finally{_iterator.f()}return times}}],[{key:"mapStops",value:function mapStops(direction){var out=new Map;var stops=direction==="North"?caltrainServiceData.northStops:caltrainServiceData.southStops;for(var i=0;i<stops.length;i++){out.set(stops[i],i)}return out}},{key:"tripStops",value:function tripStops(train,direction,schedule){var stops=direction==="North"?caltrainServiceData.northStops:caltrainServiceData.southStops;var times=this.select(direction,schedule)[train]||[];var out=[];for(var i=0;i<times.length;i++){if(times[i])out.push([stops[i],times[i]])}return out}},{key:"direction",value:function direction(departStop,arriveStop){var depart=caltrainServiceData.southStops.indexOf(departStop);var arrive=caltrainServiceData.southStops.indexOf(arriveStop);return depart<arrive?"South":"North"}},{key:"nextIndex",value:function nextIndex(routes,minutes){var index=0;var _iterator2=_createForOfIteratorHelper(routes),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var route=_step2.value;if(route[1]>minutes){return index}index++}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return index}},{key:"merge",value:function merge(departTimes,arriveTimes,skip){var _iterator3=_createForOfIteratorHelper(skip),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var x=_step3.value;departTimes.delete(x)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}var arr=[];var _iterator4=_createForOfIteratorHelper(departTimes.keys()),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var train=_step4.value;if(arriveTimes.has(train)){arr.push([train,departTimes.get(train),arriveTimes.get(train)])}}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}var sorted=arr.sort(function(a,b){return a[1]-b[1]});return sorted}},{key:"select",value:function select(direction,schedule){if(schedule==="Modified"){return direction==="North"?caltrainServiceData.northModified:caltrainServiceData.southModified}else if(schedule==="Weekday"){return direction==="North"?caltrainServiceData.northWeekday:caltrainServiceData.southWeekday}else{return direction==="North"?caltrainServiceData.northWeekend:caltrainServiceData.southWeekend}}}]);return CaltrainService}();
"use strict";function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==typeof i?i:i+""}function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var CaltrainTrip=function(){function CaltrainTrip(trip,schedule){_classCallCheck(this,CaltrainTrip);this.trip=trip;this.schedule=schedule;this.stops=[];this.times=[];this.direction=trip%2===0?"South":"North";this.setService()}_createClass(CaltrainTrip,[{key:"setService",value:function setService(){var mins=CaltrainService.tripStops(this.trip,this.direction,this.schedule);var strs=this.direction==="North"?caltrainServiceData.northStops:caltrainServiceData.southStops;this.times=[];this.stops=[];for(var i=0;i<mins.length;i++){if(mins[i]==undefined)continue;this.times.push(mins[i]);this.stops.push(strs[i])}}},{key:"label",value:function label(){return`${this.directionString()} #${this.trip} ${CaltrainTrip.type(this.trip)}`}},{key:"directionString",value:function directionString(){return this.direction[0]+"B"}}],[{key:"type",value:function type(trip){if(trip>900){return"Unknown"}else if(trip>800){return"South County"}else if(trip>500){return"Express"}else if(trip>400){return"Limited"}else if(trip>100){return"Local"}else{return"Unknown"}}}]);return CaltrainTrip}();
"use strict";function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==typeof i?i:i+""}function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var GoodTimes=function(){function GoodTimes(){var str=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;_classCallCheck(this,GoodTimes);var now=!str?new Date:new Date(str);var run=new Date(now.getTime()-2*60*60*1000);this.date=run.toJSON().slice(0,10);this.minutes=(run.getHours()+2)*60+run.getMinutes();this.seconds=run.getSeconds();this.dotw=run.getDay()}_createClass(GoodTimes,[{key:"partTime",value:function partTime(){return GoodTimes.partTime(this.minutes)}},{key:"fullTime",value:function fullTime(){return GoodTimes.fullTime(this.minutes)}},{key:"inThePast",value:function inThePast(target){return target-this.minutes<0}},{key:"departing",value:function departing(target){return target===this.minutes}},{key:"countdown",value:function countdown(target){var minutes=target-this.minutes-1;if(minutes<0){return""}else if(minutes>59){return`in ${Math.floor(minutes/60)} hr ${minutes%60} min`}else{return`in ${minutes} min ${60-this.seconds} sec`}}}],[{key:"partTime",value:function partTime(minutes){var hrs=Math.floor(minutes/60);var min=minutes%60;if(min<10){min="0"+min}var mer=hrs>11&&hrs<24?"pm":"am";if(hrs>12){hrs-=12;if(hrs>12){hrs-=12}}if(hrs<1){hrs=12}return[`${hrs}:${min}`,mer]}},{key:"fullTime",value:function fullTime(minutes){return GoodTimes.partTime(minutes).join("")}},{key:"dateString",value:function dateString(miliseconds){return new Date(miliseconds).toString().split(" ").slice(1,4).join(" ")}}]);return GoodTimes}();
"use strict";function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==typeof i?i:i+""}function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var LocalStorage=function(){function LocalStorage(stations){_classCallCheck(this,LocalStorage);this.stations=stations;this.flipped=new Date().getHours()>=12;var savedAM=parseInt(localStorage.getItem("stopAM"));var savedPM=parseInt(localStorage.getItem("stopPM"));if(Number.isNaN(savedAM)||savedAM<0||savedAM>=stations.length){localStorage.setItem("stopAM",15)}if(Number.isNaN(savedAM)||savedPM<0||savedPM>=stations.length){localStorage.setItem("stopPM",0)}this.stopAM=parseInt(localStorage.getItem("stopAM"));this.stopPM=parseInt(localStorage.getItem("stopPM"))}_createClass(LocalStorage,[{key:"saveStops",value:function saveStops(){localStorage.setItem("stopAM",this.stopAM);localStorage.setItem("stopPM",this.stopPM)}},{key:"flipStations",value:function flipStations(){this.flipped=this.flipped?false:true}},{key:"tripLabels",value:function tripLabels(){this.origin=this.stations[this.flipped?this.stopPM:this.stopAM];this.destin=this.stations[this.flipped?this.stopAM:this.stopPM];if(this.origin.length+3>=this.destin.length){return[this.origin,`to ${this.destin}`]}else{return[`${this.origin} to`,this.destin]}}},{key:"bumpStations",value:function bumpStations(origin,increment){var max=this.stations.length-1;if(this.flipped)origin=!origin;if(origin&&!increment){this.stopAM=this.stopAM===max?0:++this.stopAM}else if(origin&&increment){this.stopAM=this.stopAM<1?max:--this.stopAM}else if(!origin&&!increment){this.stopPM=this.stopPM===max?0:++this.stopPM}else if(!origin&&increment){this.stopPM=this.stopPM<1?max:--this.stopPM}}}]);return LocalStorage}();
"use strict";function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==typeof i?i:i+""}function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var prefs=new LocalStorage(caltrainServiceData.southStops);var service=new CaltrainService;var app=false;var android=false;var kaiWeb1=false;var kaiWeb2=false;var kaiWeb=false;var schedule=null;var countdown=null;var trainId=null;var offset=null;var goodTime=null;var skip=false;var splash=false;var hintIndex=-1;var menuIndex=0;var delays={};var delaySpan=null;var listing=null;var vh=228;var OK=13;var BACK=95;var HANGUP=8;var ESC=27;var UP=38;var DOWN=40;var screens="splash hero grid trip menu about commands prefs".split(" ");var titles={about:"About Next Caltrain",commands:"Keypad commands"};var hints=[["Set your origin",[1,3],"Use [1] and [3] keys to<br/>set your origin station."],["Set destination",[4,6],"Use [4] and [6] keys to<br/>set destination station."],["Flip direction",["c"],"Press the [CALL] button to<br/>flip the selected stations"],["Change schedule",["l"],"Press the [LEFT] softkey<br/>to cycle through schedules."],["Save stations",["r"],"Press the [RIGHT] softkey<br/>and select \"Save Stations\"."],["Bookmark app",["r"],"Press the [RIGHT] softkey<br/>twice to \"Pin to Apps Menu\"."]];var NextCaltrain=function(){function NextCaltrain(){_classCallCheck(this,NextCaltrain)}_createClass(NextCaltrain,null,[{key:"startApp",value:function startApp(){if(document.location.search==="?app")app=true;else if(document.location.search==="?kaiWeb1"||navigator.userAgent.toLowerCase().indexOf("kaios/1")>-1)kaiWeb1=true;else if(document.location.search==="?kaiWeb2"||navigator.userAgent.toLowerCase().indexOf("kaios")>-1)kaiWeb2=true;kaiWeb=kaiWeb1||kaiWeb2;if(navigator.userAgent.toLowerCase().indexOf("android")>-1)android=true;if(!kaiWeb){document.getElementById("softkey-menu").style["display"]="flex";document.getElementById("about-filler").style["display"]="flex";document.getElementById("commands-filler").style["display"]="flex";document.getElementById("content").className="full-screen"}else{document.getElementById("content").className="part-screen";document.getElementById("hero-screen").style["display"]="none";document.getElementById("splash-screen").style["display"]="flex";splash=true}if(window.outerHeight>320&&!kaiWeb){document.getElementById("keypad").style["display"]="flex"}var dateString=GoodTimes.dateString(caltrainServiceData.scheduleDate);delaySpan=document.getElementById("delay-span");listing=document.getElementById("listing");document.getElementById("date-string").innerHTML=dateString;NextCaltrain.attachListeners();NextCaltrain.setTheTime();NextCaltrain.formatHints();fetch("/delays").then(function(response){return response.json()}).then(function(data){return delays=data}).catch(function(error){return console.log(error)})}},{key:"formatHints",value:function formatHints(){if(!kaiWeb)hints=hints.slice(0,5);for(var i=0;i<hints.length;i++){for(var n=0;n<2;n++){hints[i][n*2]=hints[i][n*2].replace(/\[/g,"<span class='btn'>").replace(/\]/g,"</span>");if(kaiWeb1)hints[i][n*2]=hints[i][n*2].replace(/Apps Menu/,"Top Sites")}}}},{key:"bumpKeypadHint",value:function bumpKeypadHint(){hintIndex++;if(hintIndex>=hints.length){hintIndex=-1;NextCaltrain.displayScreen("hero");return}else if(hintIndex===hints.length-1){NextCaltrain.populateSoftkeyMenu("","OK","")}document.getElementById("hint-above").innerHTML=hints[hintIndex][0];document.getElementById("hint-below").innerHTML=hints[hintIndex][2];if(Array.isArray(hints[hintIndex][1])){document.getElementById("mini-keypad").style["display"]="flex";document.getElementById("hint-center").style["display"]="none";for(var i=1;i<15;i++){var key=i<10?i:["l","r","c","o","h"][i-10];var cls=hints[hintIndex][1].indexOf(key)===-1?"default":"selected";document.getElementById(`k${key}`).className=cls}}else{document.getElementById("mini-keypad").style["display"]="none";document.getElementById("hint-center").style["display"]="block";document.getElementById("hint-center").innerHTML=hints[hintIndex][1]}}},{key:"moveMenuSelection",value:function moveMenuSelection(){var menuOptions=document.getElementById("menu-list").getElementsByTagName("li");if(menuIndex>=menuOptions.length){menuIndex=0}else if(menuIndex<0){menuIndex=menuOptions.length-1}for(var i=0;i<menuOptions.length;i++){menuOptions[i].className=menuIndex===i?"selected":""}}},{key:"setTheTime",value:function setTheTime(){var ourTime=new GoodTimes;var partTime=ourTime.partTime();schedule=new CaltrainSchedule(ourTime);document.getElementById("time").innerHTML=partTime[0];document.getElementById("ampm").innerHTML=partTime[1].toUpperCase();setTimeout(function(){NextCaltrain.setTheTime()},(60-ourTime.seconds)*1000);NextCaltrain.loadSchedule()}},{key:"setCountdown",value:function setCountdown(minutes){var downTime=new GoodTimes;var blurb=downTime.countdown(minutes);document.getElementById("blurb-grid").innerHTML=blurb;document.getElementById("blurb-hero").innerHTML=blurb;if(blurb!==""){var refresh=blurb.endsWith("sec")?1000:(60-downTime.seconds)*1000;countdown=setTimeout(function(){NextCaltrain.setCountdown(minutes)},refresh)}}},{key:"populateStops",value:function populateStops(labels){document.getElementById("origin-grid").innerHTML=labels[0];document.getElementById("destin-grid").innerHTML=labels[1];document.getElementById("origin-hero").innerHTML=labels[0];document.getElementById("destin-hero").innerHTML=labels[1]}},{key:"populateBlurb",value:function populateBlurb(message,textClass){document.getElementById("blurb-grid").innerHTML=message;document.getElementById("blurb-grid").className=textClass;document.getElementById("blurb-hero").innerHTML=message.replace(" Schedule","");document.getElementById("blurb-hero").className=textClass}},{key:"populateSoftkeyMenu",value:function populateSoftkeyMenu(left,center,right){document.getElementById("softkey-left").innerHTML=left;document.getElementById("softkey-center").innerHTML=center;document.getElementById("softkey-right").innerHTML=right}},{key:"loadTrip",value:function loadTrip(train){goodTime=new GoodTimes;var trip=new CaltrainTrip(train,schedule.label());var lines=[];for(var i=0;i<trip.times.length;i++){var stop=trip.times[i];var spacer=i===0?"":"|";var fullTime=GoodTimes.fullTime(stop[1]);var filler=fullTime.length>6?"":"0";var style=goodTime.inThePast(stop[1])?"message-departed":"message-arriving";var target=prefs.origin===stop[0]||prefs.destin===stop[0]?"target":"";var bullet=android?"&#x2022;":"&#9679;";var dot_is=android?"android":"station";lines.push(`<div class="station-stop">
          <div class="station-time"><br/><span
               class="hour-filler">${filler}</span>${fullTime}</div>
          <div class="station-spacer ${style}">${spacer}<br/><span
               class="${dot_is}-dot ${target}">${bullet}</span></div>
          <div class="station-name"><br/>${stop[0]}</div></div>`)}listing.innerHTML=lines.join("\n");document.getElementById("trip-filler").innerHTML=trip.label();document.title=trip.label()}},{key:"loadSchedule",value:function loadSchedule(){goodTime=new GoodTimes;clearTimeout(countdown);NextCaltrain.populateStops(prefs.tripLabels());var routes=service.routes(prefs.origin,prefs.destin,schedule.label());var minutes=0;if(offset===null){minutes=goodTime.minutes;offset=CaltrainService.nextIndex(routes,minutes)}else if(offset>routes.length-1){offset=0}else if(offset<0){offset=routes.length-1}for(var i=0;i<6;i++){var tripCardElement=document.getElementById(`trip${i}`);var n=offset+i>routes.length-1?offset+i-routes.length:offset+i;var route=routes[n];if(i>routes.length-1){if(i===0){trainId=null;NextCaltrain.populateBlurb("NO TRAINS","message-departed blink");document.getElementById("circle").className="selection-departed";document.getElementById("trip0").className="selection-none";document.getElementById("trip").innerHTML="<span class=\"time-hero\">&nbsp;</span>";document.getElementById("trip-type").innerHTML="&nbsp;";document.getElementById("title").innerHTML="Next Caltrain";document.title="Next Caltrain"}tripCardElement.innerHTML="<div class=\"train-time\">&nbsp;</div>";continue}minutes=route[1];var originTime=GoodTimes.partTime(minutes);var destinTime=GoodTimes.partTime(route[2]);var card=`<div class="train-number">#${route[0]}</div>
          <div class="train-time">${originTime[0]}<span class="meridiem">${originTime[1]}</span></div>
          <div class="train-time">${destinTime[0]}<span class="meridiem">${destinTime[1]}</span></div>`;tripCardElement.innerHTML=card;if(i===0){var tripTime=`<span class="train-hero">#${route[0]}</span>
            <span class="time-hero">${originTime[0]}</span>
            <span class="meridiem-hero">${originTime[1]}</span>`;document.getElementById("trip").innerHTML=tripTime;trainId=route[0];var message=void 0,textClass=void 0,tripClass=void 0,wrapClass=void 0;if(schedule.swapped()){message=schedule.label()+" Schedule";textClass="message-departed";tripClass=goodTime.inThePast(minutes)?"message-departed":"";wrapClass="selection-departed"}else if(goodTime.inThePast(minutes)){message=schedule.label()+" Schedule";textClass="message-departed";tripClass="message-departed";wrapClass="selection-departed"}else if(goodTime.departing(minutes)){message="DEPARTING";textClass="message-departing blink";wrapClass="selection-departing"}else{message=goodTime.countdown(minutes);textClass="message-arriving";wrapClass="selection-arriving";if(minutes>0){NextCaltrain.setCountdown(minutes)}}document.getElementById("circle").className=wrapClass;document.getElementById("trip").className=tripClass;document.getElementById("trip-type").innerHTML=CaltrainTrip.type(trainId);if(trainId&&NextCaltrain.currentScreen()==="grid"){document.getElementById("title").innerHTML=`${CaltrainTrip.type(trainId)} Service`;document.title=`${CaltrainTrip.type(trainId)} Service`}tripCardElement.className=["trip-card","selection",tripClass,wrapClass].join(" ");NextCaltrain.populateBlurb(message,textClass);delaySpan.innerHTML=trainId in delays?`${delays[trainId]} minutes late`:""}else{if(goodTime.inThePast(minutes)){tripCardElement.className="trip-card message-departed"}else{tripCardElement.className="trip-card"}}}}},{key:"currentScreen",value:function currentScreen(){for(var i=0;i<screens.length;i++){if(document.getElementById(`${screens[i]}-screen`).style["display"]==="flex")return screens[i]}return screens[0]}},{key:"displayScreen",value:function displayScreen(target){for(var i=0;i<screens.length;i++){var display=target===screens[i]?"flex":"none";document.getElementById(`${screens[i]}-screen`).style["display"]=display}if(!kaiWeb){if(target==="hero"){NextCaltrain.populateSoftkeyMenu("","SELECT","Options")}else if(target==="grid"){NextCaltrain.populateSoftkeyMenu("","SELECT","Options")}else if(target==="trip"){NextCaltrain.populateSoftkeyMenu("","BACK","Options")}else if(target==="menu"){NextCaltrain.populateSoftkeyMenu("","SELECT","")}else if(target==="prefs"){NextCaltrain.populateSoftkeyMenu("Cancel","","OK")}else if(target==="about"){NextCaltrain.populateSoftkeyMenu("","OK","")}else if(target==="commands"){NextCaltrain.populateSoftkeyMenu("","NEXT","")}}document.getElementById("title").innerHTML="Next Caltrain";document.title=target in titles?titles[target]:"Next Caltrain";if(target==="grid"||target==="hero"){NextCaltrain.loadSchedule()}}},{key:"attachListeners",value:function attachListeners(){document.addEventListener("DOMContentLoaded",function(){if(app&&navigator.userAgent.toLowerCase().indexOf("kaios/2")>-1){getKaiAd({publisher:"8400043d-1768-4179-8a02-6bc7f7e62a25",app:"NextCaltrain",slot:"mainAdUnit",test:0,onerror:function onerror(err){return console.error("Custom catch:",err)},onready:function onready(ad){ad.call("display")}})}});document.addEventListener("touchstart",function(e){var code=null;if(e.target.id==="softkey-center"){code=OK}else if(e.target.id==="softkey-left"){code="sl"}else if(e.target.id==="softkey-right"){code="sr"}else if(e.target.getAttribute("value")==="about"){code="about"}else if(e.target.getAttribute("value")==="commands"){code="commands"}else if(e.target.getAttribute("value")==="prefs"){code="prefs"}else{return}NextCaltrain.press(code)});document.addEventListener("mousemove",function(e){if(!kaiWeb)return;skip=skip?false:true;if(kaiWeb&&splash&&e.clientX>=239){splash=false;NextCaltrain.displayScreen("hero")}else if(kaiWeb&&!splash&&e.clientX<239){splash=true;NextCaltrain.displayScreen("splash")}else if(e.movementY>0){NextCaltrain.press(DOWN);if(skip){NextCaltrain.press(DOWN);skip=false}}else if(e.movementY<0){NextCaltrain.press(UP);if(skip){NextCaltrain.press(UP);skip=false}}else if(e.movementX===0&&!skip){if(e.clientY===0){NextCaltrain.press(UP)}else if(e.clientY>=vh-1){NextCaltrain.press(DOWN)}}});document.addEventListener("click",function(){if(kaiWeb){NextCaltrain.press(OK)}});document.addEventListener("keydown",function(e){var code=e.keyCode?e.keyCode:e.which;if(code===HANGUP){code=BACK;if(NextCaltrain.currentScreen()!=="hero"){e.preventDefault()}else{return}}else if(e.key==="Call"||code===220){code="call"}else if(e.key==="SoftLeft"||e.key==="["){code="sl";e.preventDefault()}else if(e.key==="SoftRight"||e.key==="]"){code="sr";if(NextCaltrain.currentScreen()!=="menu")e.preventDefault()}else if(e.key==="1"||e.key==="3"){e.preventDefault()}else if(e.key==="2"){e.preventDefault()}else if(code===OK){e.preventDefault()}NextCaltrain.press(code)})}},{key:"press",value:function press(code){if(splash)return;if(code===ESC){NextCaltrain.displayScreen("hero")}else if(code==="prefs"){var confirmation=["Save",prefs.flipped?prefs.destin:prefs.origin,"as morning and",prefs.flipped?prefs.origin:prefs.destin,"as evening default stations?"].join(" ");document.getElementById("confirmation").innerHTML=confirmation;NextCaltrain.displayScreen("prefs")}else if(code==="about"){NextCaltrain.displayScreen("about")}else if(code==="commands"){NextCaltrain.bumpKeypadHint();NextCaltrain.displayScreen("commands")}else if(NextCaltrain.currentScreen()==="about"){if(code===OK||code===BACK){NextCaltrain.displayScreen("hero")}}else if(NextCaltrain.currentScreen()==="commands"){if(code===OK){NextCaltrain.bumpKeypadHint()}else if(code===BACK){hintIndex=-1;NextCaltrain.displayScreen("hero")}}else if(NextCaltrain.currentScreen()==="prefs"){if(kaiWeb&&code===OK||!kaiWeb&&code==="sr"){prefs.saveStops();NextCaltrain.displayScreen("hero")}else if(kaiWeb&&code===BACK||!kaiWeb&&code==="sl"){NextCaltrain.displayScreen("hero")}}else if(NextCaltrain.currentScreen()==="menu"){if(code===OK){var menuOptions=document.getElementById("menu-list").getElementsByTagName("li");var action=menuOptions[menuIndex].getAttribute("value");menuIndex=0;NextCaltrain.press(action)}else if(code===UP){menuIndex--}else if(code===DOWN){menuIndex++}else if(code===BACK){menuIndex=0;NextCaltrain.displayScreen("hero")}NextCaltrain.moveMenuSelection()}else if(code==="sr"){menuIndex=0;NextCaltrain.displayScreen("menu")}else if(NextCaltrain.currentScreen()==="trip"){if(code===OK||code===BACK){NextCaltrain.displayScreen("grid")}else if(code===UP){if(listing.scrollTop>0)listing.scrollTo(0,listing.scrollTop-72)}else if(code===DOWN){if(listing.scrollTop<listing.scrollHeight-228)listing.scrollTo(0,listing.scrollTop+72)}}else if(code===OK&&NextCaltrain.currentScreen()==="grid"&&trainId!==null){NextCaltrain.displayScreen("trip");NextCaltrain.loadTrip(trainId)}else{if(code===BACK){NextCaltrain.displayScreen("hero")}else if(code===OK){NextCaltrain.displayScreen("grid")}else if(code===UP){offset--}else if(code===DOWN){offset++}else if(code===49||code===55){offset=null;prefs.bumpStations(true,false)}else if(code===51||code===57){offset=null;prefs.bumpStations(true,true)}else if(code===52){offset=null;prefs.bumpStations(false,false)}else if(code===54){offset=null;prefs.bumpStations(false,true)}else if(code==="call"){offset=null;prefs.flipStations()}else if(code==="sl"){schedule.next();offset=null}else{return}NextCaltrain.loadSchedule()}}}]);return NextCaltrain}();
