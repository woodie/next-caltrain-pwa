<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Next Caltrain</title>
  <script src="./es5/caltrainServiceData.js" type="text/javascript"></script>
  <script src="./es5/CaltrainService.js" type="text/javascript"></script>
  <script src="./es5/CaltrainSchedule.js" type="text/javascript"></script>
  <script src="./es5/CaltrainTrip.js" type="text/javascript"></script>
  <script src="./es5/Preferences.js" type="text/javascript"></script>
  <script src="./es5/GoodTimes.js" type="text/javascript"></script>
  <script src="./es5/NextCaltrain.js" type="text/javascript"></script>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans&amp;display=swap"
        rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans&amp;display=swap"
        rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="style.css" type="text/css">
  <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./icons/favicon-16x16.png">
  <link rel="manifest" href="./manifest.webapp">
</head>

<body>
  <div id="content">

    <div id="minibar">
      <div id="title">Next Caltrain</div>
      <div><span id="time"></span> <span id="ampm"></span></div>
    </div>

    <div id="about-screen" style="display: none;">
      <div id="about-filler" class="fake-titlebar" style="display: none;">
        About Next Caltrain
      </div>
      <div id="about-content">
        <div><img id="about-image" src="icons/favicon-128x128.png"></div>
        <div><span id="app-name">Next Caltrain</span><br>for KaiOS phones</div>
        <div>&#169; 2020 John Woodell</div>
        <div>Schedule effective:<br><span id="date-string"></span>
        </div>
      </div>
    </div>

    <div id="commands-screen" style="display: none;">
      <div id="commands-filler" class="fake-titlebar" style="display: none;">
        Keypad Commands
      </div>
      <div id="commands-content">
        <div id="hint-above" class="hint"></div>
        <div id="hint-center" class="hint" style="display: none;"></div>
        <div id="mini-keypad">
          <div class="keycol">
            <div id="kl">—</div>
            <div id="kc">—</div>
            <div id="k4">4</div>
            <div id="k7">7</div>
            <div id="k*">&#10033;</div>
          </div>
          <div class="keycol">
            <div id="ko">OK</div>
            <div id="k5">5</div>
            <div id="k8">8</div>
            <div id="k0">0</div>
          </div>
          <div class="keycol">
            <div id="kr">—</div>
            <div id="kh">—</div>
            <div id="k6">6</div>
            <div id="k9">9</div>
            <div id="k#">#</div>
          </div>
        </div>
        <div id="hint-below" class="hint"></div>
      </div>
    </div>

    <div id="hero-screen" style="display: flex;">
      <div id="hero-filler" class="fake-titlebar"></div>
      <div id="hero-content">
        <div id="fade">
          <div id="main-hints">
            <div><span class="btn">5</span> &#9650;</div>
            <div>&#9660; <span class="btn">8</span></div>
          </div>
        </div>
        <div id="circle"></div>
        <div id="overview">
          <div>
            <span id="origin-hero">Origin to</span><br>
            <span id="destin-hero">Destination</span>
          </div>
          <div>
            <span id="blurb-hero"></span>
            <div id="trip"></div><span id="trip-type"></span>
          </div>
        </div>
        <select id="popup-menu" style="display: none;"
          onblur="NextCaltrain.popupMenu('hide')"
          onchange="NextCaltrain.popupMenu(this.value)">
          <option value="about"> About Next Caltrain </option>
          <option value="commands"> Keypad commands </option>
          <option value="prefs"> Save stations </option>
          <option value="hide" selected></option>
        </select>
        <div id="softkey-labels">
           <div>Menu</div>
           <div>Main</div>
        </div>
      </div>
    </div>

    <div id="grid-screen" class="full-screen" style="display: none;">
      <div id="fillbar"></div>
      <div>
        <span id="origin-grid">Origin to</span><br>
        <span id="destin-grid">Destination</span>
      </div>
      <div id="schedule">
        <div id="blurb-grid"></div>
        <div id="trip0" class="trip-card"></div>
        <div id="trip1" class="trip-card"></div>
        <div id="trip2" class="trip-card"></div>
        <div id="trip3" class="trip-card"></div>
        <div id="trip4" class="trip-card"></div>
        <div id="trip5" class="trip-card"></div>
      </div>
    </div>

    <div id="trip-screen" class="full-screen" style="display: none;">
      <div id="trip-filler"></div>
      <div id="listing"></div>
    </div>

    <div id="softkey-menu" style="display: none;">
      <div class="softkey-left">Search</div>
      <div class="select">SELECT</div>
      <div class="softkey-right">Options</div>
    </div>

    <!-- a fake keypad for non-KaiOS devices -->
    <div id="keypad" style="display: none;">
      <div class="keycol">
        <button onclick="NextCaltrain.press('menu')" class="phone"><div class="rounded upper-left"></div></button>
        <button onclick="NextCaltrain.press('flip')" class="phone"><div class="rounded lower-left"></div></button>
        <button onclick="NextCaltrain.press(49)">1</button>
        <button onclick="NextCaltrain.press(52)">4</button>
        <button onclick="NextCaltrain.press(55)">7</button>
        <button onclick="NextCaltrain.press(37)">&#10033;</button>
      </div>
      <div class="keycol">
        <button onclick="NextCaltrain.press(53)" class="arrow">&#9650;</button>
        <button onclick="NextCaltrain.press(13)" class="ok">OK</button>
        <button onclick="NextCaltrain.press(56)" class="arrow">&#9660;</button>
        <button onclick="NextCaltrain.press(49)">2</button>
        <button onclick="NextCaltrain.press(53)">5</button>
        <button onclick="NextCaltrain.press(56)">8</button>
        <button onclick="NextCaltrain.press(48)">0</button>
      </div>
      <div class="keycol">
        <button onclick="NextCaltrain.press('')" class="phone"><div class="rounded upper-right"></div></button>
        <button onclick="NextCaltrain.press(95)" class="phone"><div class="rounded lower-right"></div></button>
        <button onclick="NextCaltrain.press(50)">3</button>
        <button onclick="NextCaltrain.press(54)">6</button>
        <button onclick="NextCaltrain.press(57)">9</button>
        <button onclick="NextCaltrain.press(39)">#</button>
      </div>
    </div>
  </div><script type="text/javascript">
(function(){ NextCaltrain.startApp(); })();
  </script>
</body>
</html>
